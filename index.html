<!DOCTYPE html>

<head></head>

<body>
    <script>
        class Elem {
            static textStyle(message, options) {
                console.log(`%c ${message}`, `background: ${options.color};color: ${options.textColor ?? '#000000'};font-style: ${options.font};font-size: ${options.size ?? 15}px;`)
            }
            static $(query) {
                if (query.includes('#')) {
                    return document.getElementById(query.replace('#', ''))?.content
                } else {
                    let arr = []
                    for (let element of document.querySelectorAll(query)) {
                        arr.push(element.content)
                    }
                    return arr
                }
            }
            static tracking = {}
            static listeners = 0;
            static warn(message) {
                if (!Elem.logLevels.warn) {
                    return
                }
                Elem.textStyle(`[WARN] ${message}`, { textColor: Colors.yellow, size: 15 })
            }
            static error(message) {
                if (!Elem.logLevels.error) {
                    return
                }
                Elem.textStyle(`[ERROR] ${message}`, { textColor: Colors.red, size: 15 })
            }
            static findClass(className) {
                const styleSheets = document.styleSheets;
                // Loop through each stylesheet
                for (let i = 0; i < styleSheets.length; i++) {
                    const rules = styleSheets[i].cssRules || styleSheets[i].rules;
                    for (let j = 0; j < rules.length; j++) {
                        if (rules[j].selectorText === `.${className}`) {
                            return true;
                        }
                    }
                }
                return false
            }
            static info(message) {
                if (!Elem.logLevels.info) {
                    return
                }
                Elem.textStyle(`[INFO] ${message}`, { textColor: '#FFFFFF', size: 10 })
            }
            static success(message) {
                if (!Elem.logLevels.success) {
                    return
                }
                Elem.textStyle(`[SUCCESS] ${message}`, { textColor: Colors.lightgreen, size: 15 })
            }
            static debug(message) {
                if (!Elem.logLevels.debug) {
                    return
                }
                Elem.textStyle(`[DEBUG] ${message}`, { textColor: Colors.orange, size: 10 })
            }
            static messages = {
                noclass(msg) {
                    Elem.warn(`"${msg}" currently does not exist within the documents Style Sheets`)
                }
            }
            static elements = []
            static logLevels = {
                debug: false,
                warn: false,
                error: false,
                info: false,
                success: false,
            }
            static select(identifier) {
                let element = $search(identifier)
                Object.setPrototypeOf(element, this.prototype)
                return element.current
            }
            #display;
            #_label_ = ''
            #initial
            constructor(opts, immediate) {
                if (!opts?.tag) {
                    Elem.error('No tag was provided so i cannot make the new node.')
                    return
                }
                if (Elem.logLevels.debug) {
                    let arr = ''
                    for (let [key, value] of Object.entries(opts)) {
                        arr += `${key}="${value}" `.replaceAll('\n', '').replaceAll(' ', '')
                    }
                    Elem.debug(`New <${opts.tag}> element:\n ${arr}`)
                }
                if (opts._label_) {
                    if (!(opts._label_ in Elem.tracking)) {
                        this.#_label_ = opts._label_
                        Elem.tracking[this.#_label_] = this
                    } else {
                        Elem.error(`${opts._label_} is already being used as an identifier!`)
                    }
                }
                this.eventNames = {}
                this.content = document.createElement(opts.tag)
                new.target.elements.push(this)
                this.content.content = this
                opts.type && this.content.setAttribute('type', opts.type)
                opts.for && this.content.setAttribute('for', opts.for)
                opts.download && this.content.setAttribute('download', opts.download)
                opts.style && this.content.setAttribute('style', opts.style)
                opts.value && this.content.setAttribute('value', opts.value)
                opts.name && this.content.setAttribute('name', opts.name)
                opts.checked != null && (this.content.checked = opts.checked)
                opts.src && this.content.setAttribute('src', opts.src)
                opts.accept && this.content.setAttribute('accept', opts.accept)
                opts.placeholder && this.content.setAttribute('placeholder', opts.placeholder)
                this.parent = null
                this.content.id = opts.id ?? this.content.id
                opts.width && this.content.setAttribute('width', opts.width)
                opts.height && this.content.setAttribute('height', opts.height)
                this.content.href = opts.href ?? ''
                this.content.innerHTML = opts.text ?? ''
                this.children = []
                opts.style?.forEach?.(o => this.content.style[o] = opts.style[o])
                this.#display = this.content.style.display
                this.#initial = opts
                if (opts.class) {
                    for (let $class of opts.class) {
                        this.content.classList.add($class)
                    }
                }
                if (opts.events) {
                    this.addevent(...opts.events)
                }
                if (opts.parent) {
                    this.appendTo(opts.parent)
                }
                this.current = this.content
                if (immediate) {
                    this.appendTo(document.body)
                }
                if (opts.children) {
                    for (let kid of opts.children) {
                        kid.appendTo(this.current)
                        this.children.push(kid)
                        kid.parent = this
                    }
                }
            }
            get initial() {
                return this.#initial
            }
            appendTo(parent) {
                if (typeof parent === 'string') {
                    Elem.$('#' + parent).content.appendChild(this.content)
                    return
                }
                try {
                    parent.appendChild(this.content)
                }
                catch (e) {
                    parent.content.appendChild(this.content)
                }
                if (parent instanceof Elem) {
                    parent.children.push(this)
                    this.parent = parent
                }
                return this
            }
            appendInto(child) {
                this.content.appendChild(child.content)
                this.children.push(child)
                child.parent = this
                return this
            }
            appendIntoBody() {
                document.body.appendChild(this.content)
            }
            addClass(...className) {
                this.add({ class: className })
                return this
            }
            add(props) {
                if (props.class) {

                    /*  if (!Array.isArray(props.class)) {
                          Elem.error(`Expected Array, instead got ${typeof props.class}`)
                      }*/
                    if (typeof props.class === 'string') {
                        props.class = [props.class]
                    }
                    for (let $class of props.class) {
                        if (!Elem.findClass($class)) {
                            Elem.messages.noclass($class)
                        } else if ([...this.content.classList].includes($class)) {
                            Elem.warn(`Class ${$class} already added${this.content.id ? ' to ' + this.content.id : ''}`)
                        }
                        else { Elem.success(`Class ${$class} added${this.content.id ? ' to ' + this.content.id : ''}`) }
                        this.content.classList.add($class)
                    }
                }
                return this
            }

            anim(target, callback) {
                this.add(target)
                this.addevent(['animationend', () => { this.noevent('animationend'); callback?.call?.(this.content); }])
                return this
            }
            removeClass(...className) {
                for (let name of className) {
                    this.content.classList.remove(name)
                }
                return this
            }
            addevent(...events) {
                for (let [eventName, event] of events) {
                    Elem.listeners++
                    this.content.addEventListener(eventName, event)
                    this.eventNames[eventName] = event
                    Elem.info(`Event "${eventName}" added${this.content.id ? ' to  ' + this.content.id : ''}: \n${event.toString().replaceAll(`\n`, '').replaceAll(' ', '')}`)
                }
            }
            noevent(...target) {
                for (let event of target) {
                    this.content.removeEventListener(event, this.eventNames[event])
                    if (!this.eventNames[event]) {
                        Elem.warn(`No event found for "${event}"${this.content.id ? ' on ' + this.content.id : ''}`)
                    } else {
                        Elem.listeners--
                        Elem.info(`Removing event "${event}" ${this.content.id ? 'from ' + this.content.id : ''}:\n${this.eventNames[event].toString()}`)
                    }
                    delete this.eventNames[event]
                }
            }
            kill() {
                this.noevent(...Object.keys(this.eventNames))
                if (this.content.id) {
                    Elem.info(`Element ${this.content.id} was removed from body`)
                }
                Elem.debug(`Element removed`)
                delete Elem.tracking[this.#_label_]
                this.killChildren()
                this?.parent?.children?.deleteWithin?.(this)
                Elem.elements.deleteWithin(this)
                this.content.remove()
                return this
            }
            killChildren() {
                while (this.children.length) {
                    this.children.forEach(o => o.kill())
                }
                return this
            }

            hide(type) {
                this.content.style.display = type ?? 'none'
                return this
            }
            show() {
                this.content.style.display = this.#display
                return this
            }
        }
        let bar = new Elem({
            tag: 'textarea',
            placeholder: 'input text'
        }, true)
        new Elem({
            tag: 'button', text: 'Shorten',
            events: [
                ['click', shortenText]
            ],
        }, true)
        let result = new Elem({
            tag: 'textarea',
            placeholder: 'result', readonly: true,

        }, true)
        let saved = new Elem({
            tag: 'p'
        }, true)
        let abc = 'abcdefghijklmnopqrstuvwxyz'
        const substitutes = [
            [/\.\.\./g, '‚Ä¶'],
            [/!!/g, '‚Äº'],
            [/CD/g,'üÑ≠'],
            [/ffi/g,'Ô¨É'],
            [/fi/g,'Ô¨Å'],
            [/ffl/g,'Ô¨Ñ'],
      //      [/st/g,'Ô¨Ü'],
            [/fl/g,'Ô¨Ç'],
            [/DZ/g, '«±'],
            [/Dz/g, '«≤'],
            [/dz/g, '«≥'],
            [/LJ/g, '«á'],
            [/Lj/g, '«à'],
            [/lj/g, '«â'],
            [/Nj/g, '«ä'],
            [/nj/g, '«å'],
            [/D≈Ω/g, '«Ñ'],
            [/D≈æ/g, '«Ö'],
            [/d≈æ/g, '«Ü'],
            [/III/g, '‚Ö¢'],
            [/II/g, '‚Ö°'],
            [/IV/g, '‚Ö£'],
            [/VIII/g, '‚Öß'],
            [/VII/g, '‚Ö¶'],
            [/VI/g, '‚Ö•'],
            [/IX/g, '‚Ö®'],
            [/XI/g, '‚Ö™'],
            [/XII/g, '‚Ö´'],
            [/iii/g, '‚Ö≤'],
            [/ii/g, '‚Ö±'],
            [/iv/g, '‚Ö≥'],
            [/viii/g, '‚Ö∑'],
            [/vii/g, '‚Ö∂'],
            [/vi/g, '‚Öµ'],
            [/xii/g, '‚Öª'],
            [/xi/g, '‚Ö∫'],
            [/ix/g, '‚Ö∏'],
            [/<<</g, '‚ãò'],
            [/>>>/g, '‚ãô'],
            [/1\./g, '‚íà'],
            [/2\./g, '‚íâ'],
            [/3\./g, '‚íä'],
            [/4\./g, '‚íã'],
            [/5\./g, '‚íå'],
            [/6\./g, '‚íç'],
            [/7\./g, '‚íé'],
            [/8\./g, '‚íè'],
            [/9\./g, '‚íê'],
            [/10\./g, '‚íë'],
            [/11\./g, '‚íí'],
            [/12\./g, '‚íì'],
            [/13\./g, '‚íî'],
            [/14\./g, '‚íï'],
            [/15\./g, '‚íñ'],
            [/16\./g, '‚íó'],
            [/17\./g, '‚íò'],
            [/18\./g, '‚íô'],
            [/19\./g, '‚íö'],
            [/20\./g, '‚íõ'],
            [/XX/g, '„Ä∑'],
            [/hPa/g, '„ç±'],
            [/da/g, '„ç≤'],
            [/A\/S/g, '‚Öç'],
            [/AU/g, '„ç≥'],
            [/bar/g, '„ç¥'],
            [/oV/g, '„çµ'],
            [/pc/g, '„ç∂'],
            [/dm/g, '„ç∑'],
            [/dm2/g, '„ç∏'],// do later
            [/dm3/g, '„çπ'],// do later
            [/IU/g, '„ç∫'],
            [/pA/g, '„éÄ'],
            [/nA/g, '„éÅ'],
            [/mA/g, '„éÉ'],
            [/kA/g, '„éÑ'],
            [/kB/g, '„éÖ'],
            [/MB/g, '„éÜ'],
            [/GB/g, '„éá'],
            [/cal/g, '„éà'],
            [/kcal/g, '„éâ'],
            [/pf/g, '„éä'],
            [/nF/g, '„éã'],
            [/mg/g, '„éé'],
            [/kg/g, '„éè'],
            [/Hz/g, '„éê'],
            [/kHz/g, '„éë'],
            [/MHz/g, '„éí'],
            [/GHz/g, '„éì'],
            [/THz/g, '„éî'],
            [/fm/g, '„éô'],
            [/nm/g, '„éö'],
            [/mm/g, '„éú'],
            [/cm/g, '„éù'],
            [/km/g, '„éû'],
            [/Pa/g, '„é©'],
            [/kPa/g, '„é™'],
            [/MPa/g, '„é´'],
            [/GPa/g, '„é¨'],
            [/rad/g, '„é≠'],
            [/ps/g, '„é∞'],
            [/ns/g, '„é±'],
            [/ms/g, '„é≥'],
            [/pV/g, '„é¥'],
            [/nV/g, '„éµ'],
            [/kV/g, '„é∏'],
            [/MV/g, '„éπ'],
            [/pW/g, '„é∫'],
            [/nW/g, '„éª'],
            [/mW/g, '„éΩ'],
            [/kW/g, '„éæ'],
            [/MW/g, '„éø'],
            [/komega/g, '„èÄ'],//do this later
            [/Momega/g, '„èÅ'],  //do this later
            [/a\.m\./g, '„èÇ'],
            [/Bq/g, '„èÉ'],
            [/cc/g, '„èÑ'],
            [/cd/g, '„èÖ'],
            [/Co\./g, '„èá'],
            [/dB/g, '„èà'],
            [/Gy/g, '„èâ'],
            [/ha/g, '„èä'],
            [/HP/g, '„èã'],
            [/in/g, '„èå'],
            [/K\.K\./g, '„èç'],
            [/KM/g, '„èé'],
            [/kt/g, '„èè'],
            [/lm/g, '„èê'],
            [/ln/g, '„èë'],
            [/log/g, '„èí'],
            [/lx/g, '„èì'],
            [/mb/g, '„èî'],
            [/mil/g, '„èï'],
            [/mol/g, '„èñ'],
            [/pH/g, '„èó'],
            [/p\.m\./g, '„èò'],
            [/PPM/g, '„èô'],
            [/PR/g, '„èö'],
            [/sr/g, '„èõ'],
            [/Sv/g, '„èú'],
            [/Wb/g, '„èù'],
            [/\|\|\|/g, 'Íîñ'],
            [/\|\:/g, 'Íñé'],
            [/\:\|\:/g, 'Íñã'],
            [/AA/g, 'Íú≤'],
            [/OO/g, 'Íùé'],
            [/2016/g, 'ÔÄë'],
            [/HS/g, ''],
            [/DJ/g, 'üÜê'],
            [/\?\?/g, '‚Åá'],
            [/\?\!/g, '‚Åà'],
            [/\!\?/g, '‚Åâ'],
            [/Rs/g, '‚Ç®'],
            [/Pts/g, '‚Çß'],
            [/AO/g,'Íú¥'],
            [/30/g,'„âä'],
            [/40/g,'„âã'],
            [/50/g,'„âå'],
            [/60/g,'„âç'],
            [/70/g,'„âé'],
            [/80/g,'„âè'],
            [/21/g,'„âë'],
            [/22/g,'„âí'],
            [/23/g,'„âì'],
            [/24/g,'„âî'],
            [/25/g,'„âï'],
            [/26/g,'„âñ'],
            [/27/g,'„âó'],
            [/28/g,'„âò'],
            [/29/g,'„âô'],
            [/30/g,'„âö'],
            [/31/g,'„âõ'],
            [/32/g,'„âú'],
            [/33/g,'„âù'],
            [/34/g,'„âû'],
            [/35/g,'„âü'],
            [/Dp/g,'‚ÇØ'],
            [/¬∞F/g, '‚Ñâ'],
            [/FAX/g, '‚Ñª'],
            [/\<\</g, '‚â™'],
            [/\>\>/g, '‚â´'],
            [/¬π‚Å∞/g, '‚è®'],
            [/\-\_\-/g, '‚öç'],
            [/c\/u/g, '‚ÑÜ'],
            [/c\/o/g, '‚ÑÖ'],
            [/No/g, '‚Ññ'],
            [/Px/g, '‚Ñû'],
            [/TEL/g, '‚Ñ°'],
            [/A\/S/g, '‚Öç'],
            [/1\/7/g, '‚Öê'],
            [/1\/9/g, '‚Öë'],
            [/1\/2/, '¬Ω'],
            [/1\/10/g, '‚Öí'],
            [/1\/3/g, '‚Öì'],
            [/2\/3/g, '‚Öî'],
            [/1\/5/g, '‚Öï'],
            [/2\/5/g, '‚Öñ'],
            [/3\/5/g, '‚Öó'],
            [/4\/5/g, '‚Öò'],
            [/1\/6/g, '‚Öô'],
            [/5\/6/g, '‚Öö'],
            [/1\/8/g, '‚Öõ'],
            [/3\/8/g, '‚Öú'],
            [/5\/8/g, '‚Öù'],
            [/7\/8/g, '‚Öû'],
            [/1\//g, '‚Öü'],
            [/''/g, `"`],
            [/PTE/g, '„âê'],
            [/Hg/g, '„ãå'],
            [/erg/g, '„ãç'],
            [/eV/g, '„ãé'],
            [/V\/m/g, '„èû'],
            [/A\/m/g, '„èü'],
            [/LTD/g, '„ãè'],
            [/gal/g, '„èø'],
            //   [/tr/g, 'ùÜñ'],
            [/MR/g, 'üÖ¨'],
            [/MC/g, 'üÖ™'],
            [/MD/g, 'üÖ´'],
            [/SA/g, 'üÜç'],
            [/PA/g, 'üÜå'],
            [/IC/g, 'üÜã'],
            [/WC/g, 'üÜè'],
            [/3D/g, 'üÜõ'],
            [/2NDSCR/g, 'üÜú'],
            [/2K/g, 'üÜù'],
            [/4K/g, 'üÜû'],
            [/8K/g, 'üÜü'],
            [/5\.1/g, 'üÜ†'],
            [/7\.1/g, 'üÜ°'],
            [/oy/g,'—π'],
            [/\*\*/g,'·ïØ'],
            [/th/g,'·µ∫'],
            [/22\.2/g, 'üÜ¢'],
            [/60P/g, 'üÜ£'],
            [/120P/g, 'üÜ§'],
            [/¬∞C/g, '‚ÑÉ'],
            [/a\/c/g, '‚ÑÄ'],
            [/a\/s/g, '‚ÑÅ'],
            [/c\/o/g, '‚ÑÖ'],
            [/c\/u/g, '‚ÑÜ'],
            [/HI-RES/g, 'üÜ®'],
            [/LOSSLESS/g, 'üÜ©'],
            [/SHV/g, 'üÜ™'],
            [/UHD/g, 'üÜ´'],
            [/HC/g, 'üÜ¶'],
            [/HDR/g, 'üÜß'],
            [/VOD/g, 'üÜ¨'],
            [/\s\s\s/g, '„ÄÄ'],
            [/SD/g, 'üÖå'],
            [/SS/g, 'üÖç'],
            [/PPV/g, 'üÖé'],
            [/oc/g,'‚≥™'],
            [/Wz/g,'üÑÆ']



        ];

        window.substitutes = substitutes
            ; ((nums) => {
                let numbers = [...'123456789', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20']
                for (let i = 0; i < nums.length; i++) {
                    let r = new RegExp(`\\(${numbers[i]}\\)`, 'g')
                    let str = nums[i]
                    substitutes.push([r, str])
                }
            })('‚ë¥‚ëµ‚ë∂‚ë∑‚ë∏‚ëπ‚ë∫‚ëª‚ëº‚ëΩ‚ëæ‚ëø‚íÄ‚íÅ‚íÇ‚íÉ‚íÑ‚íÖ‚íÜ‚íá');

        ; ((nums) => {
            let numbers = [...'123456789', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20']
            for (let i = 0; i < nums.length; i++) {
                let r = new RegExp(`${numbers[i]}\,`, 'g')
                let str = nums[i]
                substitutes.push([r, str])
            }
        })('üÑÇüÑÉüÑÑüÑÖüÑÜüÑáüÑàüÑâüÑä');

        (function anonymous(letters) {
            for (let i = 0; i < abc.length; i++) {
                let r = new RegExp(`\\(${abc[i]}\\)`, 'g')
                let str = letters[i]
                substitutes.push([r, str])
            }
        })('‚íú‚íù‚íû‚íü‚í†‚í°‚í¢‚í£‚í§‚í•‚í¶‚íß‚í®‚í©‚í™‚í´‚í¨‚í≠‚íÆ‚íØ‚í∞‚í±‚í≤‚í≥‚í¥‚íµ');

        (function anonymous(letters) {
            for (let i = 0; i < abc.length; i++) {
                let r = new RegExp(`\\(${abc[i].toLocaleUpperCase()}\\)`, 'g')
                let str = letters[i]
                substitutes.push([r, str])
            }
        })('üÑêüÑëüÑíüÑìüÑîüÑïüÑñüÑóüÑòüÑôüÑöüÑõüÑúüÑùüÑûüÑüüÑ†üÑ°üÑ¢üÑ£üÑ§üÑ•üÑ¶üÑßüÑ®üÑ©');







        function shortenText() {
            let text = bar.content.value,
                old = text
            for (let [regex, replacement] of substitutes) {
                text = text.replace(regex, replacement)
            }
            result.content.value = text
            saved.content.innerHTML = `Saved ${old.length - text.length} characters!`
        }
    </script>
</body>

</html>